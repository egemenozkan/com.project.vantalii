<template>
    <div class="row">
            <div class="col-lg-12">
                <h2 class="font-size-14 pastel-blue">Etkinlikler</h2>
                <div class="days-menu desktop-hide">
                    <span id="event-day-prev">
                        <i class="fas fa-chevron-circle-left"></i>
                    </span>
                    <span>Bugün</span>
                    <span>Yarın</span>
                    <span>Ertesi</span>
                    <span id="event-day-next">
                        <i class="fas fa-chevron-circle-right"></i>
                    </span>
                </div>
                <div class="row">
                    <div v-for="eventDay in eventDays" class="events-downlist col-lg-4">
                        <h3>Bugün<span>Çarşamba</span></h3>
                        <ul class="list">
                            <li v-for="event in eventDay.events">
                                <h4>Ramazan Çoşkusu</h4>
                                <span class="badge event-begin">21:00</span>
                                <div class="line-1">
                                    <span>Festival</span>
                                </div>
                                <div class="line-2">
                                    <div class="attendee">
                                        <i class="fas fa-walking"></i><span>9</span>
                                    </div>
                                    <div class="comment">
                                        <i class="fas fa-comments"></i><span>0</span>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
	    </div>
</template>
<script>

function convertStrToDate(str) {
    var dArr = str.split('-');
    return new Date(dArr[2], dArr[1], dArr[0]);
}

function convertDateToString(date) {
    return  ('0' + date.getDate()).slice(-2) + "-" + ('0' + (date.getMonth() + 1)).slice(-2) + date.getFullYear();
}

import {LocalDate} from '../../js/mydate';


export default {
  name: 'VueEventDays',
  data () {
    return {
      msg: 'Hello world',
      source:  [{"id":33,"title":"Zaman Test","keywords":"deneme, event","description":"","slug":"ahmet-parlak-3","contents":[{"id":10,"text":"\u003cp\u003edeneme2\u003c/p\u003e","order":0}],"language":"RUSSIAN","event":{"id":3,"name":"Ahmet Parlak","type":"CONCERT","language":"RUSSIAN","slug":"ahmet-parlak-3","place":{"id":1043,"language":"NOTSET","localisation":{"RUSSIAN":{"name":"Turkay Soray Cultural Center","language":"RUSSIAN","slug":"turkay-soray-cultural-center-1043"},"ENGLISH":{"name":"Turkay Soray Cultural Center","language":"ENGLISH","slug":"turkay-soray-cultural-center-1043"},"TURKISH":{"name":"Türkan Şoray Kültür Merkezi","language":"TURKISH","slug":"turkan-soray-kultur-merkezi-1043"}},"type":"ALL","address":{"id":1044,"address":"Yeşilbahçe Mahallesi, Çınarlı Cd. No:7","postCode":"07160","priority":0,"lat":36.8689782,"lng":30.7248293,"subregionId":4,"subregion":"ANTALYA CENTER","regionId":3,"region":"ANTALYA","cityId":1,"city":"Antalya","countryId":0},"contact":{"id":170,"phone":"","whatsapp":"","callCenter":"","web":"","email":""},"createDateTime":[2019,3,24,20,22,42],"updateDateTime":[2019,3,24,20,22,42],"images":[]},"periodType":"MONDAYS","startDate":"2019-10-24","startTime":"19:00","endDate":"2019-10-24","endTime":"11:00","showStartTime":true,"showEndTime":true}},{"id":62,"title":"2nd International Akra Jazz Festival","keywords":"Barut Akra","description":"Jazz Festival","slug":"2nd-international-akra-jazz-festival-6","contents":[],"language":"RUSSIAN","event":{"id":6,"name":"2nd International Akra Jazz Festival","type":"CONCERT","language":"RUSSIAN","slug":"2nd-international-akra-jazz-festival-6","place":{"id":21,"language":"NOTSET","localisation":{"RUSSIAN":{"name":"Barut Akra","language":"RUSSIAN","slug":"barut-akra-21"},"ENGLISH":{"name":"Barut Akra","language":"ENGLISH","slug":"barut-akra-21"},"TURKISH":{"name":"Barut Akra","language":"TURKISH","slug":"barut-akra-21"}},"type":"HOTEL","address":{"id":22,"priority":0,"lat":36.86406,"lng":30.726464,"subregionId":7,"subregion":"LARA","regionId":3,"region":"ANTALYA","cityId":1,"city":"Antalya","countryId":0},"createDateTime":[2018,12,29,18,55,46],"updateDateTime":[2018,12,29,18,55,46],"images":[]},"periodType":"UNORDINARY","startDate":"2019-06-19","endDate":"2019-06-29","showStartTime":false,"showEndTime":false}},{"id":0,"title":"Monica Molina","slug":"monica-molina-7","language":"RUSSIAN","event":{"id":7,"name":"Monica Molina","type":"CONCERT","language":"RUSSIAN","slug":"monica-molina-7","place":{"id":21,"language":"NOTSET","localisation":{"RUSSIAN":{"name":"Barut Akra","language":"RUSSIAN","slug":"barut-akra-21"},"ENGLISH":{"name":"Barut Akra","language":"ENGLISH","slug":"barut-akra-21"},"TURKISH":{"name":"Barut Akra","language":"TURKISH","slug":"barut-akra-21"}},"type":"HOTEL","address":{"id":22,"priority":0,"lat":36.86406,"lng":30.726464,"subregionId":7,"subregion":"LARA","regionId":3,"region":"ANTALYA","cityId":1,"city":"Antalya","countryId":0},"createDateTime":[2018,12,29,18,55,46],"updateDateTime":[2018,12,29,18,55,46],"images":[]},"periodType":"ONEDAY","startDate":"2019-06-19","startTime":"21:00","endDate":"2019-06-19","showStartTime":true,"showEndTime":false}},{"id":0,"title":"Roberto Fonseca \u0027\u0027Havan\u0027\u0027","slug":"roberto-fonseca-havan-8","language":"RUSSIAN","event":{"id":8,"name":"Roberto Fonseca \u0027\u0027Havan\u0027\u0027","type":"CONCERT","language":"RUSSIAN","slug":"roberto-fonseca-havan-8","place":{"id":21,"language":"NOTSET","localisation":{"RUSSIAN":{"name":"Barut Akra","language":"RUSSIAN","slug":"barut-akra-21"},"ENGLISH":{"name":"Barut Akra","language":"ENGLISH","slug":"barut-akra-21"},"TURKISH":{"name":"Barut Akra","language":"TURKISH","slug":"barut-akra-21"}},"type":"HOTEL","address":{"id":22,"priority":0,"lat":36.86406,"lng":30.726464,"subregionId":7,"subregion":"LARA","regionId":3,"region":"ANTALYA","cityId":1,"city":"Antalya","countryId":0},"createDateTime":[2018,12,29,18,55,46],"updateDateTime":[2018,12,29,18,55,46],"images":[]},"periodType":"ONEDAY","startDate":"2019-06-20","startTime":"21:00","endDate":"2019-06-20","showStartTime":false,"showEndTime":false}},{"id":0,"title":"Iyeoka","slug":"iyeoka-9","language":"RUSSIAN","event":{"id":9,"name":"Iyeoka","type":"CONCERT","language":"RUSSIAN","slug":"iyeoka-9","place":{"id":21,"language":"NOTSET","localisation":{"RUSSIAN":{"name":"Barut Akra","language":"RUSSIAN","slug":"barut-akra-21"},"ENGLISH":{"name":"Barut Akra","language":"ENGLISH","slug":"barut-akra-21"},"TURKISH":{"name":"Barut Akra","language":"TURKISH","slug":"barut-akra-21"}},"type":"HOTEL","address":{"id":22,"priority":0,"lat":36.86406,"lng":30.726464,"subregionId":7,"subregion":"LARA","regionId":3,"region":"ANTALYA","cityId":1,"city":"Antalya","countryId":0},"createDateTime":[2018,12,29,18,55,46],"updateDateTime":[2018,12,29,18,55,46],"images":[]},"periodType":"ONEDAY","startDate":"2019-06-22","startTime":"21:00","endDate":"2019-06-22","showStartTime":true,"showEndTime":false}}]

    }
  },
    computed : {
        eventDays : function () {
                        var self = this;

            var map = new Map();
            var today = new Date();

            map.set("a","v")
            self.source.forEach(e => {
                if (LocalDate.today() > e.event.startDate.format("yyyy-MM-dd")) {
                 console.log(e.event.startDate.format("yyyy-MM-dd") +  "önce " + LocalDate.today().toString() + " sonra");
                } else  if (LocalDate.today() < e.event.startDate.format("yyyy-MM-dd")) {
                    console.log(LocalDate.today().toString() +  "önce " + e.event.startDate.format("yyyy-MM-dd") + " sonra");
                }
              
            });
            return [{}];
        }
    }

  }

</script>
